<div class="create-employee-container">
    <div class="form-header">
      <button mat-icon-button routerLink=".." class="back-button">
        <mat-icon>arrow_back</mat-icon>
      </button>
      <h2>Créer un employé</h2>
    </div>
  
    <mat-card class="form-card">
      <mat-card-content>
        <form [formGroup]="employeeForm" (ngSubmit)="onSubmit()" class="employee-form">
  
          <div class="form-row">
            <mat-form-field appearance="outline" class="form-field">
              <mat-label>Prénom</mat-label>
              <input matInput formControlName="firstName" placeholder="Entrez le prénom">
              <mat-icon matSuffix>person</mat-icon>
              <mat-error *ngIf="employeeForm.get('firstName')?.invalid && employeeForm.get('firstName')?.touched">
                Le prénom est requis
              </mat-error>
            </mat-form-field>
  
            <mat-form-field appearance="outline" class="form-field">
              <mat-label>Nom</mat-label>
              <input matInput formControlName="lastName" placeholder="Entrez le nom">
              <mat-icon matSuffix>person</mat-icon>
              <mat-error *ngIf="employeeForm.get('lastName')?.invalid && employeeForm.get('lastName')?.touched">
                Le nom est requis
              </mat-error>
            </mat-form-field>
          </div>
  
          <mat-form-field appearance="outline" class="form-field full-width">
            <mat-label>Email</mat-label>
            <input matInput formControlName="email" type="email" placeholder="exemple@email.com">
            <mat-icon matSuffix>email</mat-icon>
            <mat-error *ngIf="employeeForm.get('email')?.hasError('required') && employeeForm.get('email')?.touched">
              L'email est requis
            </mat-error>
            <mat-error *ngIf="employeeForm.get('email')?.hasError('email') && employeeForm.get('email')?.touched">
              Format d'email invalide
            </mat-error>
          </mat-form-field>
  
          <div class="form-row">
            <mat-form-field appearance="outline" class="form-field">
              <mat-label>Date d'embauche</mat-label>
              <input matInput [matDatepicker]="picker" formControlName="hireDate">
              <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
              <mat-datepicker #picker></mat-datepicker>
              <mat-error *ngIf="employeeForm.get('hireDate')?.invalid && employeeForm.get('hireDate')?.touched">
                La date d'embauche est requise
              </mat-error>
            </mat-form-field>
  
            <div class="leave-fields">
              <mat-form-field appearance="outline" class="form-field">
                <mat-label>Congés annuels</mat-label>
                <input matInput type="number" formControlName="totalLeaveDays" min="0">
                <mat-icon matSuffix>beach_access</mat-icon>
              </mat-form-field>
  
              <mat-form-field appearance="outline" class="form-field">
                <mat-label>Congés restants</mat-label>
                <input matInput type="number" formControlName="remainingLeaveDays" min="0">
                <mat-icon matSuffix>schedule</mat-icon>
              </mat-form-field>
            </div>
          </div>
  
          <div class="form-actions">
            <button mat-button type="button" routerLink="..">Annuler</button>
            <button mat-raised-button color="primary" type="submit"
                    [disabled]="employeeForm.invalid || isSubmitting"
                    class="submit-button">
              <mat-icon *ngIf="isSubmitting">hourglass_empty</mat-icon>
              <mat-icon *ngIf="!isSubmitting">check</mat-icon>
              {{ isSubmitting ? 'Création...' : 'Créer employé' }}
            </button>
          </div>
        </form>
      </mat-card-content>
    </mat-card>
  </div>